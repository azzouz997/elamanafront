<ol class="breadcrumb breadcrumb-bg-grey">
  <li><a href="/">Accueil</a></li>
  <li class="active">Changer mot de passe</li>
</ol>

<div class="row clearfix">
  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="card">
      <div class="body">
        <br>
        <form name="form" role="form" class="form-horizontal" (ngSubmit)="changePassword()" [formGroup]="updateForm">
          <!-- <div class="alert alert-warning" *ngIf="checkPasswords()">
            Password don't match
          </div> -->
          <!--  -->
          <div class="form-group">
            <label for="OldPassword" class="col-sm-3 control-label">Ancien Mot de passe</label>
            <div class="col-sm-9">
              <div class="form-line">
                <input type="password" class="form-control" id="OldPassword" name="OldPassword"
                  formControlName="oldPassword" required>
              </div>
              <div
                *ngIf="updateForm.get('oldPassword')!.invalid && (updateForm.get('oldPassword')!.dirty || updateForm.get('oldPassword')!.touched)">
                <small class="form-text text-danger" *ngIf="updateForm.get('oldPassword')?.errors?.required">
                  Ce champ est obligatoire.
                </small>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="NewPassword" class="col-sm-3 control-label">Nouveau Mot de passe</label>
            <div class="col-sm-9">
              <div class="form-line">
                <input type="password" class="form-control" id="NewPassword" name="NewPassword"
                  formControlName="password" required="">
              </div>
              <div
                *ngIf="updateForm.get('password')!.invalid && (updateForm.get('password')!.dirty || updateForm.get('password')!.touched)">
                <small class="form-text text-danger" *ngIf="updateForm.get('password')?.errors?.required">
                  Ce champ est obligatoire.
                </small>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="NewPasswordConfirm" class="col-sm-3 control-label">Confirmez le Mot de passe</label>
            <div class="col-sm-9">
              <div class="form-line">
                <input type="password" class="form-control" id="NewPasswordConfirm" name="NewPasswordConfirm"
                  formControlName="confirmPassword" required="">
              </div>
              <div *ngIf="checkPasswords()">
                <small class="form-text text-danger">
                  Le mot de passe ne correspond pas.
                </small>
              </div>
              <div
                *ngIf="updateForm.get('confirmPassword')!.invalid && (updateForm.get('confirmPassword')!.dirty || updateForm.get('confirmPassword')!.touched)">
                <small class="form-text text-danger" *ngIf="updateForm.get('confirmPassword')?.errors?.required">
                  Ce champ est obligatoire.
                </small>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-offset-3 col-sm-9">
              <button type="button" class="btn bg-grey" (click)="previousState()">Annuler
              </button>&nbsp;&nbsp;
              <button type="submit" class="btn btn-success" (click)="changePassword()"
                [disabled]="updateForm.invalid || isSaving">Changer</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>